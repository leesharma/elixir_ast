---
layout: default
---

<div class="home">

  <h2 class="page-heading">Convert Elixir Code to AST</h2>

  <main class="page-content">

    <section class="elixir console">
      <h3 class="section-heading">Elixir Input</h3>
      <button class="transform" id="to_ast">To AST</button>
      <textarea id="elixir-input">
defmodule Greetings do
  def say_hello(name \\ "World") do
    "Hello, #{String.capitalize(name)}!"
  end
end
      </textarea>
    </section>

    <section class="ast console">
      <h3 class="section-heading">Abstract Syntax Tree</h3>
      <textarea id="ast-output"></textarea>
    </section>

  </div>
</main>

<script>
(function () {
  var elixirInput = document.getElementById("elixir-input"),
      astOutput   = document.getElementById("ast-output"),
      elixirInputEditor = CodeMirror.fromTextArea(elixirInput, {
        lineNumbers: true,
      }),
      astOutputEditor = CodeMirror.fromTextArea(astOutput, {
        readOnly: true,
      });
  var toASTButton = document.getElementById("to_ast");
  var url = "https://api.github.com/";

  function get(url) {
    var conn = new XMLHttpRequest(); // a new request

    conn.open("GET", url, false);
    conn.send(null);
    return conn.responseText;
  };

  toASTButton.addEventListener("click", function (e) {
    var elixir = elixirInputEditor.getValue();
    var res = get(url);

    alert(elixir);
    astOutputEditor.setValue(res);
  });

}());
</script>
